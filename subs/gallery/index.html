<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SpookyDecs â€” Gallery Management</title>
  <link rel="icon" type="image/svg+xml" href="https://assets.spookydecs.com/icons/person-gear_icon.svg">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <h1>SpookyDecs â€” Image Management</h1>
  <div style="flex:1"></div>
  <a id="galleryLink" href="#" class="admin-link">View Gallery</a>
  <a id="adminLink" href="#" class="admin-link">Admin</a>
  <button id="btnLogout">Logout</button>
</header>

<main>
  <h2>Image Management</h2>
  
  <!-- Stats Cards -->
  <div class="stats-grid" id="statsGrid">
    <div class="stat-card">
      <div class="stat-label">Total Images</div>
      <div class="stat-value" id="statTotal">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Halloween</div>
      <div class="stat-value" id="statHalloween">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Christmas</div>
      <div class="stat-value" id="statChristmas">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">My Display</div>
      <div class="stat-value" id="statMyDisplay">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Community</div>
      <div class="stat-value" id="statCommunity">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Build Progress</div>
      <div class="stat-value" id="statBuildProgress">0</div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="action-bar">
    <button class="btn-primary" onclick="showUploadModal()">
      <span>ðŸ“¤</span> Upload Image
    </button>
    <button class="btn-secondary" onclick="showBulkUploadToast()">
      <span>ðŸ“¦</span> Bulk Upload
    </button>
  </div>
  
  <!-- Filters -->
  <div class="filters">
    <div class="filter-group">
      <label>Season</label>
      <select id="filterSeason">
        <option value="all">All Seasons</option>
        <option value="halloween">Halloween</option>
        <option value="christmas">Christmas</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>Category</label>
      <select id="filterCategory">
        <option value="all">All Categories</option>
        <option value="myDisplay">My Display</option>
        <option value="community">Community</option>
        <option value="buildProgress">Build Progress</option>
        <option value="uncategorized">Uncategorized</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>Visibility</label>
      <select id="filterVisible">
        <option value="all">All</option>
        <option value="true">Visible</option>
        <option value="false">Hidden</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>Search</label>
      <input type="text" id="searchInput" placeholder="Search by title...">
    </div>
  </div>

  <!-- Table -->
  <div class="table-container">
    <table id="galleryTable">
      <thead>
        <tr>
          <th>Thumbnail</th>
          <th class="sortable" onclick="sortTable('year')">Year <span class="sort-icon">â†•</span></th>
          <th>Title</th>
          <th class="sortable" onclick="sortTable('category')">Category <span class="sort-icon">â†•</span></th>
          <th>Visible</th>
          <th class="sortable" onclick="sortTable('season')">Season <span class="sort-icon">â†•</span></th>
          <th>Tags</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="galleryTableBody">
        <tr>
          <td colspan="8">
            <div class="loading">Loading images...</div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</main>

<!-- Edit Modal -->
<div id="editModal" class="modal" style="display:none;">
  <div class="panel">
    <div class="modal-header">
      <h2>Edit Image</h2>
      <button class="btn-close" onclick="closeEditModal()">Ã—</button>
    </div>
    <div class="modal-body" id="editModalBody"></div>
  </div>
</div>

<!-- Upload Modal -->
<div id="uploadModal" class="modal" style="display:none;">
  <div class="panel">
    <div class="modal-header">
      <h2>Upload Image</h2>
      <button class="btn-close" onclick="closeUploadModal()">Ã—</button>
    </div>
    <div class="modal-body" id="uploadModalBody"></div>
  </div>
</div>

<!-- Confirmation Modal -->
<div id="confirmModal" class="modal" style="display:none;">
  <div class="panel" style="max-width:500px;">
    <div class="modal-header">
      <h2 id="confirmTitle">Confirm Action</h2>
    </div>
    <div class="modal-body">
      <p id="confirmMessage"></p>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeConfirmModal()">Cancel</button>
        <button class="btn-danger" id="confirmBtn">Confirm</button>
      </div>
    </div>
  </div>
</div>

<!-- Toast Container -->
<div id="toastContainer" class="toast-container"></div>

<script src="config.js"></script>
<script src="api.js"></script>
<script src="ui.js"></script>
<script src="modals.js"></script>
<script src="app.js"></script>

</body>
</html>